<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title></title>
<script type="text/javascript">
function onlyNonNegative(obj) {
  var inputChar = event.keyCode;
  console.log("inputchar:", inputChar);
  //1.判断是否有多于一个小数点
  if(inputChar == 190) { //输入的是否为.
    var index1 = obj.value.indexOf(".") + 1; //取第一次出现.的后一个位置
    var index2 = obj.value.indexOf(".", index1);
    while(index2 != -1) {
      //取出.号之前的内容
      obj.value = obj.value.substring(0, index2);
      index2 = obj.value.indexOf(".", index1);
    }
  }
  //2.如果输入的不是.或者不是数字，替换 g:全局替换
  obj.value = obj.value.replace(/[^(\d|.)]/g, "");
}
</script>
</head>

<body>
<input type="text" onkeyup="onlyNonNegative(this)" />
</body>

</html>